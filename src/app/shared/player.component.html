<div fxLayout="column" [style.height]="loaded && !minimized ? '120px' : '20px'">
  <img *ngIf="player.getCurrentTrack().waveform" class="image"
    src="{{player.getCurrentTrack().waveform}}" [style.height]="'100px'"
    [class.flashy]="loaded" (load)="loaded = true" [hidden]="minimized">
  <input type="range" min="0" max="{{player.maxTime}}"
    [(ngModel)]="player.currentTime" (ngModelChange)="player.setTime($event)"/>
</div>
<div fxLayout="row">
  <button fxFlex="1 1" (click)="player.play()">Play</button>
  <button fxFlex="1 1" (click)="player.pause()">Pause</button>
  <button fxFlex="1 1" (click)="player.stop()">Stop</button>
  <button fxFlex="1 1" (click)="player.previousTrack()">Previous</button>
  <button fxFlex="1 1" (click)="player.nextTrack()">Next</button>
  <button fxFlex="1 1" (click)="player.toggleMute()">
    {{player.muted ? 'Unmute' : 'Mute'}}</button>
  <button fxFlex="1 1" (click)="addRandomTrack()">Add Random Track</button>
  <button fxFlex="1 1" (click)="minimized = !minimized">
    {{minimized ? 'Maximize' : 'Minimize'}}</button>
</div>
<div fxLayout="column" [style.padding]="'10px'">
  <div class="playlist" *ngFor="let s of player.playlist"
      [hidden]="minimized && s !== player.getCurrentTrack()"
      [style.color]="s === player.getCurrentTrack() ? 'white' : 'grey'"
      (click)="player.skipToTrack(s)">
    {{s.title}}
  </div>
</div>